<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<title>Плотный график</title>
	<link href="css/bootstrap.min.css" rel="stylesheet">
<style>
a{
padding:10px;
border:1px solid black;
display:inline-block;
color:black;
font-weight:bold;
}
a:hover{
background:#808080;
color:white;
}
</style>
</head>

<body>


	<div class="container">
		<div class="header">
                        <a href="#" style="background:#808080;color:white;" >Плотный график</a>
                        <a href="injury.jsp" style="margin-left:-5px;">Замены по травме</a>
			<h1>Поиск</h1>
			<div>
				Количество матчей: <input type="text" name="klk" class="input-small search-query" >
				Дней: <input type="text" name="day" class="input-small search-query">
				От предпоследней игры <input type="checkbox" name="mode" value="0">
				<button type="submit" class="btn btn-primary" onclick="search()"><i class="icon-search icon-white"></i>&nbsp;Поиск</button>
				<br>
				<div id="chk">
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1081"> Argentina.PrimeraA
					</label>
					<label class="checkbox inline">
					    <input type="checkbox" name="Checkbox" value="1075"> Argentina.PrimeraB
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1086"> Australia.A-League
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1093"> Austria.Bundesliga
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1090"> Austria.1-Liga
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1099"> Belarus.PremierLeague
					</label>
					<br>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1102"> Belgium.ProLeague
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1104"> Belgium.SecondDivision
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1141"> Brazil.SerieA
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1117"> Brazil.SerieB
					</label>
					<label class="checkbox inline"> 
						<input type="checkbox" name="Checkbox" value="1154"> Bulgaria.APFG
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1159"> Chile.Primera
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1160"> Chile.PrimeraB
					</label>
					<br>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1163"> China.SuperLeague
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1162"> China.LeagueOne
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1172"> Croatia.HNL
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1175"> Croatia.2HNL
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1179"> Cyprus.1-division
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1184"> Czechia.CzechLiga
					</label>
					<br>
					<label class="checkbox inline"> 
						<input type="checkbox" name="Checkbox" value="1183"> Czechia.Liga2
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1185"> Denmark.SuperLiga
					</label>
					<label class="checkbox inline"> 
						<input type="checkbox" name="Checkbox" value="1189"> Denmark.1stDivision
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1204"> England.PremierLeague
					</label>
					<label class="checkbox inline"> 
						<input type="checkbox" name="Checkbox" value="1205"> England.Championship
					</label>
                                        <br>
					<label class="checkbox inline"> 
						<input type="checkbox" name="Checkbox" value="1206"> England.LeagueOne
					</label>
					<label class="checkbox inline"> 
						<input type="checkbox" name="Checkbox" value="1197"> England.LeagueTwo
					</label>                                  
					<label class="checkbox inline"> 
						<input type="checkbox" name="Checkbox" value="1530"> Finland.Ykkonen
					</label>
					
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1221"> France.Ligue1
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1217"> France.Ligue2
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1229"> Germany.Bundesliga
					</label>
                                        <br>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1225"> Germany.Bundesliga2
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1232"> Greece.SuperLeague
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1235"> Greece.BEthiniki
					</label>
					
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1322"> Holland.Eredivisie
					</label>
					<label class="checkbox inline"> 
						<input type="checkbox" name="Checkbox" value="1323"> Holland.EersteDivisie
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1248"> Hungary.NBI
					</label>
                                        <br>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1540"> Iceland.LeagueCup
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1258"> Ireland.PremierLeague
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1269"> Italy.SerieA
					</label>
					
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1265"> Italy.SerieB
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1271"> Japan.J-League
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1282"> Korea.K-League
					</label>
                                        <br>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1280"> Korea.K2League
					</label>
                                        
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1309"> Mexico.PrimeraA
					</label>
					<label class="checkbox inline"> 
						<input type="checkbox" name="Checkbox" value="1335"> Norway.Eliteserien
					</label>
					
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1563"> Norway.Adeccoligaen
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox[" value="1344"> Poland.Ekstraklasa
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1348"> Poland.Division2
					</label>
                                        <br>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1352"> Portugal.Primeira
					</label>
                                        
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1353"> Portugal.Division2
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1361"> Romania.LigaI
					</label>
					
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1457"> Russia.PremierLeague
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1363"> Russia.1-division
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1370"> Scotland.PremierLeague
					</label>
                                        <br>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1373"> Scotland.Division1
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1399"> Spain.Primera
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1398"> Spain.Segunda
					</label>
					
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1407"> Sweden.Allsvenskan
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1405"> Sweden.Superettan
					</label>										
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1408"> Switzerland.SuperLeague
					</label>
                                        <br>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1412"> Switzerland.ChallengeLeague
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1425"> Turkey.SuperLig
					</label>
					
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1422"> Turkey.LigA
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1431"> Uae.PremierLeague
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1982"> Uae.Division1
					</label>	
                                        														
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1428"> Ukraine.PremierLeague
					</label>
                                        <br>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1427"> Ukraine.PershaLiga
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1440"> Usa.MLS
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="3008"> Usa.NASL
					</label>
					<label class="checkbox inline">
						<input type="checkbox" name="Checkbox" value="1452"> Wales.PremierLeague
					</label>
				</div>
			</div>
			<button class="button" id="checkAll">Выбрать все</button>
		</div>
		<br>
		<div class="content" id="content">
		</div>
		</div>		
</div>
</body>

<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>

	<script>
		var container = document.getElementById('chk');
		var inputs = container.getElementsByTagName('input');
		var btn = document.getElementById('checkAll');

		btn.onclick = function() {
	    	for(var i = 0, inputs_len = inputs.length; i < inputs_len; i++) {
	    		if(i==0)
	    			inputs[i].checked = inputs[0].checked ? false : true;
	    		else
	    			inputs[i].checked = inputs[i-1].checked ? true : false;
	    	}
		}
		
	   function search() {
		   
		   var klk=document.getElementsByName("klk")[0].value;
		   var day=document.getElementsByName("day")[0].value;
		   var mode=document.getElementsByName("mode")[0];
		   if(mode.checked==true)
			   mode=0;
		   else
			   mode=1;
		   
		   var str="?num="+klk+"&day="+day+"&last="+mode+"&comp=";
		   
		   var selectCheckBox = document.getElementsByName("Checkbox");
		   var i;
		   for(i=0;i<selectCheckBox.length;i++){
		   	if(selectCheckBox[i].checked==true)
		   		str=str+selectCheckBox[i].value+",";
		   }
	      str=str.slice(0,str.length-1);
	   	
	      $( ".content" ).empty();
	  	
	      $.ajax({
		    type:'get',//тип запроса: get,post либо head
		    url:'shedule/api'+str, //url адрес файла обработчика
	        beforeSend: function(){
	        	$('.content').html('<span style="padding-left:380px;"><img id="imgcode" src="images/loadinfo.gif"></span>');
	        },
		    success:function (data) { //возвращаемый результат от сервера
	            var i=0;
	            $( ".content" ).empty();
		    	$(data).find('arrayListGame').each(function(){
	                // select a container were you want to put your data, them append data in it;;
	                i=i+1;
	                $('.content').append('<div id="'+i+'" style="position:relative;borer-radius:5px; box-shadow:1px 1px 2px rgba(0,0,0,0.5);margin:8px 3px;">');
	                $(this).find('list').each(function(){
	                	$('#'+i).append('<span style="float:left;">'+$(this).find('comp').find('country').text()+'.'+$(this).find('comp').find('name').first().text()+'</span><span style="position:absolute;left:40%;">'+$(this).find('date').text().slice(0,10)+'</span><span style="position:absolute;left:55%;">'+$(this).find('team1').find('name').text()+' - '+ $(this).find('team2').find('name').text()+'</span><br>');
	                });
	            });
		     }
		  });
	    }		   
		   
	</script>
		
</html>